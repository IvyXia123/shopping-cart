<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link href="css/demo2.css" rel="stylesheet">
    <script src="js/jquery-1.10.2.min.js"></script>
    <script src="js/jquery.fly.min.js"></script>
    <script>
        var i = 0;
        $(function () {
            var offset = $("#end").offset();
            $(".addcar").click(function () {
                i++;
                var img = $(this).parent().find("img");
                var flyer = img.clone().addClass("u-flyer");
                flyer.fly({
                    start:
                    {
                        left: $(this).offset().left,
                        top: $(this).offset().top
                    },
                    end: {
                        left: offset.left + 10,
                        top: offset.top + 10,
                        width: 0,
                        height: 0
                    },
                    onEnd: function () {
                        $("#pnum").text("(" + i + ")");
                        $("#msg").show().animate({ width: '250px' }, 200).fadeOut(1000); //提示信息 
                        flyer.remove(); //移除dom
                    }
                });
                $(this).css({ "cursor": "default", "background-color": "#cccccc" }).unbind('click');
            });
        });
    </script>
</head>

<body>
    <div class="box">
        <img src="img/lg.jpg" />
        <h4>￥<span>3499.00</span></h4>
        <p>LG 49LF5400-CA 49寸IPS硬屏富贵招财铜钱设计</p>
        <a href="#" class="button orange addcar">加入购物车</a>
    </div>
    <div class="box">
        <img src="img/hs.jpg" />
        <h4>￥<span>3799.00</span></h4>
        <p>Hisense/海信 LED50T1A 海信电视官方旗舰店</p>
        <a href="#" class="button orange addcar">加入购物车</a>
    </div>
    <div class="box">
        <img src="img/cw.jpg" />
        <h4>￥<span>￥3999.00</span></h4>
        <p>Skyworth/创维 50E8EUS 8核4Kj极清酷开系统智能液晶电视</p>
        <a href="#" class="button orange addcar">加入购物车</a>
    </div>
    <div class="box">
        <img src="img/ls.jpg" />
        <h4>￥<span>6969.00</span></h4>
        <p>乐视TV Letv X60S 4核1080P高清3D安卓智能超级电视</p>
        <a href="#" class="button orange addcar">加入购物车</a>
    </div>

    <div class="m-sidebar">
        <div class="cart">
            <i id="end"></i>
            <span>购物车</span>
            <span id="pnum">(0)</span>
        </div>
    </div>
    <div id="msg">已成功加入购物车！</div>
</body>

</html>